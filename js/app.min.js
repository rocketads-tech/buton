(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){!function(e){let t=new Image;t.onload=function(){e(t.complete&&2===t.height)},t.onerror=function(){e(!1)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(function(e){document.documentElement.classList.add(e?"webp":"no-webp")})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".accordion-item.active");e.length>0&&(e.forEach(e=>{const t=e.querySelector(".accordion-body");t&&t.classList.add("accordion-body-open")}),document.querySelectorAll(".accordion-header").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement;if(!t)return;const n=t.querySelector(".accordion-body");if(!n)return;const o=t.classList.contains("active");document.querySelectorAll(".accordion-item").forEach(e=>{e.classList.remove("active");const t=e.querySelector(".accordion-body");t&&t.classList.remove("accordion-body-open")}),o||(t.classList.add("active"),n.classList.add("accordion-body-open"))})}));const t=document.getElementById("filtersBtns");if(t){const u=t.querySelector(".filters__btn--apply"),m=t.querySelector(".filters__btn--reset");if(u&&m){function p(){const e=window.getComputedStyle(u).backgroundColor,t=window.getComputedStyle(m).backgroundColor;u.style.backgroundColor=t,m.style.backgroundColor=e}u.addEventListener("mouseenter",p),m.addEventListener("mouseenter",p),t.addEventListener("mouseleave",p)}}const n=document.querySelectorAll(".filters-block__item_link");n.length>0&&n.forEach(e=>{e.addEventListener("click",function(e){n.forEach(e=>e.classList.remove("active")),this.classList.add("active")})});const o=document.querySelectorAll(".filters-block");if(o.length>0){o.forEach(e=>{const t=e.querySelector('.check-block__input[name="check_all"]');if(!t)return;const n=e.querySelectorAll('.check-block__input:not([name="check_all"])');t.addEventListener("change",()=>{n.forEach(e=>e.checked=t.checked)}),n.forEach(e=>{e.addEventListener("change",()=>{t.checked=Array.from(n).every(e=>e.checked)})})});const h=document.getElementById("filtersReset");h&&h.addEventListener("click",()=>{document.querySelectorAll('#filters .check-block__input[type="checkbox"]').forEach(e=>e.checked=!1)})}const c=document.querySelectorAll(".product-card"),r=document.getElementById("pagination"),i=document.getElementById("paginationList"),d=document.querySelector(".pagination__btn--prev"),s=document.querySelector(".pagination__btn--next");if(c.length>0&&r&&i&&d&&s){const f=parseInt(r.dataset.cardsPerPage)||9,y=Math.ceil(c.length/f);if(y<=1)r.classList.add("pagination--hidden");else{let b=1;function v(e){const t=(e-1)*f,n=t+f;c.forEach(e=>e.classList.add("product-card--invisible")),setTimeout(()=>{c.forEach((e,o)=>{o>=t&&o<n?(e.classList.remove("product-card--hidden"),e.classList.add("product-card--invisible")):e.classList.add("product-card--hidden")}),requestAnimationFrame(()=>{c.forEach((e,o)=>{o>=t&&o<n&&e.classList.remove("product-card--invisible")})})},400)}function L(){if(i.innerHTML="",y<=1)return;const e=(e,t,n=!1)=>{const o=document.createElement("li");o.className="pagination__item";const c=document.createElement("button");return c.className="pagination__link"+(n?" pagination__link--active":""),c.textContent=t,c.setAttribute("aria-label",`Страница ${e}`),c.addEventListener("click",()=>E(e)),o.appendChild(c),o},t=()=>{const e=document.createElement("li");return e.className="pagination__item",e.textContent="...",e.setAttribute("aria-hidden","true"),e};i.appendChild(e(1,"1",1===b)),2===y?i.appendChild(e(2,"2",2===b)):(i.appendChild(e(2,"2",2===b)),b>3&&i.appendChild(t()),b>2&&b<y&&i.appendChild(e(b,String(b),!0)),b<y-1&&i.appendChild(t()),i.appendChild(e(y,String(y),b===y)))}function E(e){e<1||e>y||(b=e,v(b),L(),d.disabled=1===b,s.disabled=b===y)}d.addEventListener("click",()=>E(b-1)),s.addEventListener("click",()=>E(b+1)),v(b),L(),d.disabled=!0,s.disabled=1===y}}const a=document.querySelector(".product-slider-main"),l=document.querySelector(".product-slider-thumbs");if(a&&l&&"undefined"!=typeof Swiper){const g=new Swiper(".product-slider-thumbs",{spaceBetween:8,slidesPerView:"auto",watchSlidesProgress:!0,freeMode:!0,touchRatio:1,touchAngle:45});new Swiper(".product-slider-main",{thumbs:{swiper:g}})}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.body,t=document.querySelector(".mobile-menu");if(!t)return;const n=t.querySelector(".mobile-menu__backdrop"),o=t.querySelector(".mobile-menu__close"),c=document.querySelectorAll(".menu-toggle");if(0===c.length&&!n&&!o)return;const r=[];n&&r.push(n),o&&r.push(o);const i=()=>{e.classList.add("mobile-menu--open"),t.setAttribute("aria-hidden","false"),e.style.overflow="hidden"},d=()=>{e.classList.remove("mobile-menu--open"),t.setAttribute("aria-hidden","true"),e.style.overflow=""};c.forEach(e=>{e.addEventListener("click",i)}),r.forEach(e=>{e.addEventListener("click",d)}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("mobile-menu--open")&&d()})}),document.querySelectorAll(".counter").forEach(e=>{const t=e.querySelector(".counter__btn--minus"),n=e.querySelector(".counter__btn--plus"),o=e.querySelector(".counter__value");t&&n&&o&&(t.addEventListener("mouseenter",()=>{e.classList.add("counter--hover-minus")}),t.addEventListener("mouseleave",()=>{e.classList.remove("counter--hover-minus")}),n.addEventListener("mouseenter",()=>{e.classList.add("counter--hover-plus")}),n.addEventListener("mouseleave",()=>{e.classList.remove("counter--hover-plus")}))});const e=document.querySelector(".filters-show-btn");if(e){const t=document.querySelector(".section-layout__sidebar"),n=e.querySelector(".button__icon");t&&e.addEventListener("click",()=>{t.classList.toggle("filters-show"),n&&n.classList.toggle("filters-open")})}})();