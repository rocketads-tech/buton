(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".accordion-item.active");e.length>0&&(e.forEach(e=>{const t=e.querySelector(".accordion-body");t&&t.classList.add("accordion-body-open")}),document.querySelectorAll(".accordion-header").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement;if(!t)return;const n=t.querySelector(".accordion-body");if(!n)return;const c=t.classList.contains("active");document.querySelectorAll(".accordion-item").forEach(e=>{e.classList.remove("active");const t=e.querySelector(".accordion-body");t&&t.classList.remove("accordion-body-open")}),c||(t.classList.add("active"),n.classList.add("accordion-body-open"))})}));const t=document.getElementById("filtersBtns");if(t){const u=t.querySelector(".filters__btn--apply"),m=t.querySelector(".filters__btn--reset");if(u&&m){function h(){const e=window.getComputedStyle(u).backgroundColor,t=window.getComputedStyle(m).backgroundColor;u.style.backgroundColor=t,m.style.backgroundColor=e}u.addEventListener("mouseenter",h),m.addEventListener("mouseenter",h),t.addEventListener("mouseleave",h)}}const n=document.querySelectorAll(".filters-block__item_link");n.length>0&&n.forEach(e=>{e.addEventListener("click",function(e){n.forEach(e=>e.classList.remove("active")),this.classList.add("active")})});const c=document.querySelectorAll(".filters-block");if(c.length>0){c.forEach(e=>{const t=e.querySelector('.check-block__input[name="check_all"]');if(!t)return;const n=e.querySelectorAll('.check-block__input:not([name="check_all"])');t.addEventListener("change",()=>{n.forEach(e=>e.checked=t.checked)}),n.forEach(e=>{e.addEventListener("change",()=>{t.checked=Array.from(n).every(e=>e.checked)})})});const p=document.getElementById("filtersReset");p&&p.addEventListener("click",()=>{document.querySelectorAll('#filters .check-block__input[type="checkbox"]').forEach(e=>e.checked=!1)})}const o=document.querySelectorAll(".product-card"),r=document.getElementById("pagination"),i=document.getElementById("paginationList"),s=document.querySelector(".pagination__btn--prev"),d=document.querySelector(".pagination__btn--next");if(o.length>0&&r&&i&&s&&d){const y=parseInt(r.dataset.cardsPerPage)||9,v=Math.ceil(o.length/y);if(v<=1)r.classList.add("pagination--hidden");else{let f=1;function b(e){const t=(e-1)*y,n=t+y;o.forEach(e=>e.classList.add("product-card--invisible")),setTimeout(()=>{o.forEach((e,c)=>{c>=t&&c<n?(e.classList.remove("product-card--hidden"),e.classList.add("product-card--invisible")):e.classList.add("product-card--hidden")}),requestAnimationFrame(()=>{o.forEach((e,c)=>{c>=t&&c<n&&e.classList.remove("product-card--invisible")})})},400)}function L(){if(i.innerHTML="",v<=1)return;const e=(e,t,n=!1)=>{const c=document.createElement("li");c.className="pagination__item";const o=document.createElement("button");return o.className="pagination__link"+(n?" pagination__link--active":""),o.textContent=t,o.setAttribute("aria-label",`Страница ${e}`),o.addEventListener("click",()=>E(e)),c.appendChild(o),c},t=()=>{const e=document.createElement("li");return e.className="pagination__item",e.textContent="...",e.setAttribute("aria-hidden","true"),e};i.appendChild(e(1,"1",1===f)),2===v?i.appendChild(e(2,"2",2===f)):(i.appendChild(e(2,"2",2===f)),f>3&&i.appendChild(t()),f>2&&f<v&&i.appendChild(e(f,String(f),!0)),f<v-1&&i.appendChild(t()),i.appendChild(e(v,String(v),f===v)))}function E(e){e<1||e>v||(f=e,b(f),L(),s.disabled=1===f,d.disabled=f===v)}s.addEventListener("click",()=>E(f-1)),d.addEventListener("click",()=>E(f+1)),b(f),L(),s.disabled=!0,d.disabled=1===v}}const a=document.querySelector(".product-slider-main"),l=document.querySelector(".product-slider-thumbs");if(a&&l&&"undefined"!=typeof Swiper){const _=new Swiper(".product-slider-thumbs",{spaceBetween:8,slidesPerView:"auto",watchSlidesProgress:!0,freeMode:!0,touchRatio:1,touchAngle:45});new Swiper(".product-slider-main",{thumbs:{swiper:_}})}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.body,t=document.querySelector(".mobile-menu");if(!t)return;const n=t.querySelector(".mobile-menu__backdrop"),c=t.querySelector(".mobile-menu__close"),o=document.querySelectorAll(".menu-toggle");if(0===o.length&&!n&&!c)return;const r=[];n&&r.push(n),c&&r.push(c);const i=()=>{e.classList.add("mobile-menu--open"),t.setAttribute("aria-hidden","false"),e.style.overflow="hidden"},s=()=>{e.classList.remove("mobile-menu--open"),t.setAttribute("aria-hidden","true"),e.style.overflow=""};o.forEach(e=>{e.addEventListener("click",i)}),r.forEach(e=>{e.addEventListener("click",s)}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("mobile-menu--open")&&s()})}),document.querySelectorAll(".counter").forEach(e=>{const t=e.querySelector(".counter__btn--minus"),n=e.querySelector(".counter__btn--plus"),c=e.querySelector(".counter__value");t&&n&&c&&(t.addEventListener("mouseenter",()=>{e.classList.add("counter--hover-minus")}),t.addEventListener("mouseleave",()=>{e.classList.remove("counter--hover-minus")}),n.addEventListener("mouseenter",()=>{e.classList.add("counter--hover-plus")}),n.addEventListener("mouseleave",()=>{e.classList.remove("counter--hover-plus")}))});const e=document.querySelector(".filters-show-btn");if(e){const t=document.querySelector(".section-layout__sidebar"),n=e.querySelector(".button__icon");t&&e.addEventListener("click",()=>{t.classList.toggle("filters-show"),n&&n.classList.toggle("filters-open")})}})();